const { extend, lazify } = require ('./lib/mixins')
const cls = class cds extends require('events'){}
const c = lazy => cds.builtin.classes [lazy]
require = lazify(module)  // eslint-disable-line

const cds = module.exports = { __proto__:  cls.prototype,

	Association:c,
	Composition:c,
	context:c,
	service:c,
	entity:c,
	struct:c,
	array:c,

	builtin: require ('./lib/core'),
	reflect: require ('./lib/reflect'),
	linked: require ('./lib/link'),
	infer: require ('./lib/infer'),

    lazify, extend, mixin(...aspects){ return extend(this) .with (...aspects) },
    clone:m => JSON.parse (JSON.stringify(m)),

}