const _defaultListener = () => {}

let _capturing = false
let _listener = _defaultListener

const setListener = fn => {
  _listener = fn || _defaultListener
  _capturing = _listener !== _defaultListener
}

const getListener = () => {
  return _listener
}

const addToQueue = cqn => {
  _listener(cqn)

  return _capturing
}

module.exports = {
  setListener,
  getListener,
  addToQueue
}
