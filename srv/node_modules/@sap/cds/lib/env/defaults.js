const defaults = module.exports = {

  features: {
    localized: true
  },

  folders: {
    app: 'app/',
    srv: 'srv/',
    db: 'db/',
  },

  deploy: {
    get models() {
      const { db,srv,app } = defaults.folders
      const models = [ db,srv,app, './schema.cds', './services.cds' ]
      Object.defineProperty(this, 'models', models)
      return models
    }
  },

  i18n: {
    folders: ['_i18n', 'i18n', 'assets/i18n'],
    for_sqlite: ['de','fr'],
    default_language: 'en'
  },

  requires: {
    db: undefined,

    auth: undefined,
    monitoring: undefined,
    logging: undefined,
    destinations: undefined,
    audit: undefined,
    sql: {
      "[development]": { kind: 'sqlite', credentials: { database: ':memory:' }},
      "[production]": { use: 'hana' },
    },
    sqlite: {
      // use: '@sap/cds-sqlite', // enforce using sqlite when accessed through <sql>
      use: 'sqlite', // enforce using sqlite when accessed through <sql>
      credentials: { database: 'sqlite.db' }
    },
    hana: {
      // use: '@sap/cds-hana', // enforce using hana when accessed through <sql>
      use: 'hana', // enforce using hana when accessed through <sql>
    },
    messaging: {
      "[development]": { kind: "local" },
      "[production]": {},
    },
    "enterprise-messaging": {}
  },

  odata: {
    version:"v2"
  },

  build: {
    target: 'gen'
  },

  mtx: {
    api: {
      model: true,
      provisioning: true,
      metadata: true
    },
    domain: '__default__'
  },

  cdsc: {
    // toSql: { associations: "joins" },
    // newCsn: true,
    smart: {
      // to_many: true
    }
  },

  sql_mapping:"plain", // or 'hdbcds',
}
