const Query = require('./Query')
const cds = require('../cds'), {extend} = cds

class INSERT extends Query {

    static in (_context) {
        return extend (function (...entries) { return { into (entity) {
            const q = (new INSERT) .in (_context)
            q._cqn.into = q.target (entity)
            if (entries.length)  q.entries (entries)
            return q
        }}}) .with ({
            into (entity, ...entries) { return this(...entries) .into (entity) }
        })
    }

    entries (...entries) {
        this._cqn.entries = entries
        return this
    }

    columns(){}
    values(){}
    rows(){}

    valueOf(){ return super.valueOf('INSERT into') }
}


module.exports = INSERT
