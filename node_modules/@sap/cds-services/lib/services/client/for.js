const cds = require('../../cds')

const _getService = serviceNameOrPath => {
  return cds.service.providers.find(provider => {
    return provider.options.at === serviceNameOrPath || provider.name === serviceNameOrPath
  })
}

// Deprecated internal API; do not brake previous implementations
const forService = serviceNameOrPath => {
  return _getService(serviceNameOrPath)
}

module.exports = forService
