const InitCommand = require('./init');
const Constants = require('./constants');



// overwrite init command config to allow named folders, e.g. database:db
const CONFIG = Object.freeze({
    modules: {
        default: ''
    }
});

class AddCommand extends InitCommand {
    constructor(logger, fsHelper) {
        super(CONFIG, logger, fsHelper);
    }

    async run(args, options, cdsEnv) {
        const modFolder = args[2] || Constants.DEFAULT_MODULE_FOLDER[options['module-type']];
        options.modules = `${modFolder}:${options['module-type']}`;

        delete options['module-type'];

        await super.run(['.'], options, cdsEnv);
    }

}

module.exports = AddCommand;
