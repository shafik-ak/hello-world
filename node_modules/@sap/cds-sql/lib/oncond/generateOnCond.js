const cds = require('../cds')

const { getOnCondNewCsn } = require('./generateOnCondNewCsn')
const { getOnCondOldCsn } = require('./generateOnCondOldCsn')

const getOnCond = (...args) => {
  // Only if specifically set to false use old variant
  return cds.env.cdsc && cds.env.cdsc.newCsn === false
    ? getOnCondOldCsn(...args)
    : ['(', ...getOnCondNewCsn(...args), ')']
}

module.exports = {
  getOnCond
}
